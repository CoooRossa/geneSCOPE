% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api_metrics_tests.R
\name{computeDensity}
\alias{computeDensity}
\title{Compute per-grid gene density.}
\usage{
computeDensity(
  scope_obj,
  grid_name = NULL,
  density_name = "density",
  genes = NULL,
  cluster_col = NULL,
  cluster_num = NULL,
  layer_name = "counts",
  normalize_method = c("none", "per_grid", "global_gene"),
  verbose = TRUE
)
}
\arguments{
\item{scope_obj}{A `scope_object` with grid data.}

\item{grid_name}{Grid layer to use (defaults to active layer).}

\item{density_name}{Output column name for the density values.}

\item{genes}{Optional character vector of genes to aggregate.}

\item{cluster_col}{Optional `scope_obj@meta.data` column used to select genes by cluster.}

\item{cluster_num}{Optional cluster identifier used with `cluster_col`.}

\item{layer_name}{Grid layer slot containing counts (default `"counts"`).}

\item{normalize_method}{Normalization mode (`none`, `per_grid`, `global_gene`).}

\item{verbose}{Emit progress messages when TRUE.}
}
\value{
The modified `scope_object` (invisibly).
}
\description{
Aggregates counts for a gene set within each grid tile and stores density per
unit area under `scope_obj@density`.
}
\examples{
\dontrun{
scope_obj <- computeDensity(scope_obj, grid_name = "grid30", layer_name = "counts", genes = "CEACAM5", density_name = "CEACAM5")
}
}
\seealso{
`plotDensity()`, `plotDensityCentroids()`
}
