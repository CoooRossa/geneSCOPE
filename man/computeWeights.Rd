% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api_spatial_weights.R
\name{computeWeights}
\alias{computeWeights}
\title{Compute spatial weights for a grid layer (public wrapper).}
\usage{
computeWeights(
  scope_obj,
  grid_name = NULL,
  style = "B",
  store_mat = TRUE,
  zero_policy = TRUE,
  store_listw = TRUE,
  verbose = TRUE,
  topology = c("auto", "queen", "rook", "hex", "fuzzy_queen", "fuzzy_hex"),
  nb_order = 1L,
  min_neighbors = NULL,
  max_order = NULL,
  kernel_radius = NULL,
  kernel_sigma = NULL,
  ncores = detectCores(logical = TRUE)
)
}
\arguments{
\item{scope_obj}{A `scope_object` with grid layers.}

\item{grid_name}{Grid layer name (defaults to active layer).}

\item{style}{Style for `spdep::nb2listw()` (default `"B"`).
Kernel weights (main-2 parity) are enabled by setting `style = "kernel_gaussian"`
or `style = "kernel_flat"`. In that case, use `kernel_radius`/`kernel_sigma`
to control the kernel shape. For backward compatibility, `max_order` and
`min_neighbors` are only used as fallbacks when the kernel-specific
parameters are not supplied.}

\item{store_mat}{Store the adjacency matrix in the grid layer when TRUE.}

\item{zero_policy}{Whether zero-neighbour cells are allowed.}

\item{store_listw}{Store the `listw` object when TRUE.}

\item{verbose}{Emit progress messages when TRUE.}

\item{topology}{Topology choice (`auto`, `queen`, `rook`, `hex`, `fuzzy_queen`, `fuzzy_hex`).}

\item{nb_order}{Optional higher-order neighbour expansion.}

\item{min_neighbors}{Minimum neighbour count when expanding (non-kernel styles).}

\item{max_order}{Maximum neighbour order (non-kernel styles).}

\item{kernel_radius}{Kernel radius for `style="kernel_*"` (overrides `max_order`).}

\item{kernel_sigma}{Kernel sigma for `style="kernel_*"` (overrides `min_neighbors`).}

\item{ncores}{Number of threads to use.}
}
\value{
The modified `scope_object` (invisibly).
}
\description{
Builds spatial neighbourhood structures and stores adjacency/weights into the
specified grid layer of a `scope_object`.
}
\examples{
\dontrun{
scope_obj <- computeWeights(scope_obj, grid_name = "grid30", topology = "queen")
}
}
\seealso{
`computeL()`, `fuzzy_queen_jaccard()`
}
