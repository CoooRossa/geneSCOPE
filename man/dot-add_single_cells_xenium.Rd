% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/internal_misc.R
\name{.add_single_cells_xenium}
\alias{.add_single_cells_xenium}
\title{Add Single Cell Count Matrix (Xenium)}
\usage{
.add_single_cells_xenium(
  scope_obj,
  xenium_dir,
  filter_genes = NULL,
  exclude_prefix = c("Unassigned", "NegControl", "Background", "DeprecatedCodeword"),
  filter_barcodes = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{scope_obj}{A valid \code{scope_object} whose \code{@coord$centroids} slot
is already filled (e.g. via \code{\link{.create_scope}}). Cells
found in this slot define the subset and order of columns kept.}

\item{xenium_dir}{Character scalar. Path to the Xenium \file{outs/}
directory that holds \file{cell_feature_matrix.h5}; must exist.}

\item{filter_genes}{Character vector or NULL. Gene names to include (default NULL keeps all).}

\item{exclude_prefix}{Character vector. Prefixes to exclude when filtering genes (default c("Unassigned", "NegControl", "Background", "DeprecatedCodeword")).}

\item{filter_barcodes}{Logical. Whether to filter cells to match barcodes in scope_obj (default TRUE). When FALSE, all cells from the HDF5 matrix are included.}

\item{verbose}{Logical. Whether to print progress messages (default TRUE).}
}
\value{
The same object (modified in place) now carrying a
        \code{dgCMatrix} in \code{@cells}.
}
\description{
Read the Xenium **cell-feature sparse matrix** (either HDF5 or
  Matrix-Market format), keep only the cells that appear in
  \code{scope_obj@coord$centroids$cell}, preserve that order, and store the
  result in the new \code{@cells} slot.
  The function relies only on \strong{Matrix}, \strong{data.table}, and
  \strong{rhdf5} (or \strong{hdf5r})â€”no Seurat, tidyverse, or other heavy
  dependencies.
}
\keyword{internal}
