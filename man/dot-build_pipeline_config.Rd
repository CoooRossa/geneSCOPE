% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/internal_pipeline.R
\name{.build_pipeline_config}
\alias{.build_pipeline_config}
\title{Build default clustering configuration.}
\usage{
.build_pipeline_config(
  min_cutoff = 0,
  use_significance = TRUE,
  significance_max = 0.05,
  pct_min = "q0",
  drop_isolated = TRUE,
  algo = "leiden",
  stage2_algo = NULL,
  resolution = 1,
  gamma = 1,
  objective = "CPM",
  use_log1p_weight = TRUE,
  use_consensus = TRUE,
  consensus_thr = 0.95,
  n_restart = 100,
  n_threads = NULL,
  mode = "auto",
  large_n_threshold = 1000L,
  nk_leiden_iterations = 10L,
  nk_leiden_randomize = TRUE,
  aggr_future_workers = 2L,
  aggr_batch_size = NULL,
  enable_subcluster = TRUE,
  sub_min_size = 10,
  sub_min_child_size = 5,
  sub_resolution_factor = 1.3,
  sub_within_cons_max = 0.5,
  sub_conductance_min = 0.6,
  sub_improve_within_cons_min = 0.07,
  sub_max_groups = 3,
  enable_qc_filter = TRUE,
  qc_gene_intra_cons_min = 0.25,
  qc_gene_best_out_cons_min = 0.6,
  qc_gene_intra_weight_q = 0.05,
  keep_cross_stable = TRUE,
  min_cluster_size = 2L,
  CI95_filter = NULL,
  CI_rule = NULL,
  curve_layer = NULL,
  similarity_slot = "L",
  significance_slot = "FDR",
  use_mh_weight = FALSE,
  mh_slot = NULL,
  post_smooth = TRUE,
  post_smooth_quant = c(0.05, 0.95),
  post_smooth_power = 0.5,
  keep_stage1_backbone = TRUE,
  backbone_floor_q = 0.02,
  hotspot_k = NULL,
  hotspot_min_module_size = 5L,
  future_globals_min_bytes = 2 * 1024^3,
  system_memory_bytes = NA_real_
)
}
\arguments{
\item{min_cutoff}{Numeric Lee's L cutoff.}

\item{use_significance}{Logical; apply FDR alignment.}

\item{significance_max}{Maximum allowed FDR value.}

\item{pct_min}{Quantile filter specification.}

\item{drop_isolated}{Logical; drop zero-degree nodes.}

\item{algo}{Stage-1 algorithm name.}

\item{stage2_algo}{Optional Stage-2 algorithm name.}

\item{resolution}{CPM resolution parameter.}

\item{gamma}{Modularity resolution parameter.}

\item{objective}{Objective name (`"CPM"` or `"modularity"`).}

\item{use_log1p_weight}{Logical; log1p transform weights.}

\item{use_consensus}{Logical; enable consensus stage.}

\item{consensus_thr}{Numeric consensus threshold.}

\item{n_restart}{Integer number of restarts.}

\item{n_threads}{Integer thread count.}

\item{mode}{Character mode flag.}

\item{large_n_threshold}{Integer node threshold for aggressive mode.}

\item{nk_leiden_iterations}{Integer NetworKit iteration count.}

\item{nk_leiden_randomize}{Logical; randomize NetworKit initialisation.}

\item{aggr_future_workers}{Integer future workers.}

\item{aggr_batch_size}{Integer restart batch size.}

\item{enable_subcluster}{Logical; attempt Stage-2 subclustering.}

\item{sub_min_size}{Minimum Stage-2 cluster size.}

\item{sub_min_child_size}{Minimum Stage-2 child size.}

\item{sub_resolution_factor}{Multiplicative Stage-2 resolution factor.}

\item{sub_within_cons_max}{Maximum within-consensus for subclustering.}

\item{sub_conductance_min}{Minimum conductance for subclustering.}

\item{sub_improve_within_cons_min}{Minimum within-consensus gain.}

\item{sub_max_groups}{Maximum Stage-2 splits.}

\item{enable_qc_filter}{Logical; enable QC pruning.}

\item{qc_gene_intra_cons_min}{Minimum within-consensus per gene.}

\item{qc_gene_best_out_cons_min}{Maximum best-out consensus per gene.}

\item{qc_gene_intra_weight_q}{Quantile threshold for intra weights.}

\item{keep_cross_stable}{Logical; retain cross-cluster stable edges.}

\item{min_cluster_size}{Minimum cluster size to keep.}

\item{CI95_filter}{Parameter value.}

\item{CI_rule}{Character CI95 filtering rule; set `NULL` (default) to skip CI filtering.}

\item{curve_layer}{Name of curve layer used when CI filtering is enabled.}

\item{similarity_slot}{Similarity slot name.}

\item{significance_slot}{Significance slot name.}

\item{use_mh_weight}{Logical; apply Morisita-Horn weights (when `NULL`, inferred from `mh_slot`/`cmh_slot`).}

\item{mh_slot}{MH slot name; provide `NULL` to disable MH-based corrections.}

\item{post_smooth}{Logical; smooth post Stage-2 weights.}

\item{post_smooth_quant}{Numeric vector of smoothing quantiles.}

\item{post_smooth_power}{Numeric smoothing power.}

\item{keep_stage1_backbone}{Logical; keep Stage-1 backbone.}

\item{backbone_floor_q}{Quantile floor for backbone.}

\item{hotspot_k}{Parameter value.}

\item{hotspot_min_module_size}{Parameter value.}

\item{future_globals_min_bytes}{Parameter value.}

\item{system_memory_bytes}{Parameter value.}
}
\value{
A named configuration list consumed by downstream helpers.
}
\description{
Internal helper for `.build_pipeline_config`.
}
\keyword{internal}
