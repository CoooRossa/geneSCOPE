% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/internal_spatial_weights.R
\name{.grid_nb_safe}
\alias{.grid_nb_safe}
\title{Safe grid neighbourhood dispatcher with platform-aware fallback}
\usage{
.grid_nb_safe(
  nrow,
  ncol,
  topology = "queen",
  queen = TRUE,
  use_parallel = FALSE,
  verbose = FALSE,
  parent = "computeWeights",
  step = "S03"
)
}
\arguments{
\item{nrow}{Grid dimensions (validated externally).}

\item{ncol}{Grid dimensions (validated externally).}

\item{topology}{Topology label.}

\item{queen}{Logical, TRUE for queen adjacency.}

\item{use_parallel}{Logical, whether OpenMP backend was requested.}

\item{verbose}{Logical, emit selection logs.}
}
\value{
List with `nb` and `backend` fields.
}
\description{
Internal helper for `.grid_nb_safe`.
Validates dimensions, honours env override GENESCOPE_FORCE_R_GRID_NB, and
uses the native C++ grid builders by default.
}
\keyword{internal}
