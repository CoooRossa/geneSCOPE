% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api_normalization.R
\name{normalizeSingleCells}
\alias{normalizeSingleCells}
\title{Add a log-CPM normalized layer to a scope object.}
\usage{
normalizeSingleCells(
  scope_obj,
  input_layer = "counts",
  output_layer = "logCPM",
  scale_factor = 10000,
  verbose = TRUE
)
}
\arguments{
\item{scope_obj}{A `scope_object`.}

\item{input_layer}{Name of the existing layer in `scope_obj@cells`
(default `counts`, must be a `dgCMatrix`).}

\item{output_layer}{Name of the layer to write to (default `logCPM`,
overwrites if it exists).}

\item{scale_factor}{Library size each cell is scaled to before `log1p`.}

\item{verbose}{Emit progress messages when TRUE.}
}
\value{
The modified `scope_object` (invisibly).
}
\description{
Reads the specified count layer from `scope_obj@cells`, scales counts to
`scale_factor`, applies `log1p`, and stores the result in
`scope_obj@cells[[output_layer]]`.
}
\examples{
\dontrun{
scope_obj <- createSCOPE(data_dir = "/path/to/output_dir",ã€€grid_length = 30)
scope_obj <- addSingleCells(scope_obj, data_dir = "/path/to/output_dir")
scope_obj <- normalizeSingleCells(scope_obj, input_layer = "counts", output_layer = "logCPM", scale_factor = 1e4)
}
}
